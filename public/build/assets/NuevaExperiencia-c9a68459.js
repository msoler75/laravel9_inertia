import{_ as D}from"./FondoEstrellado-883edc21.js";import{_ as F}from"./Link-4da1af55.js";import{_ as I}from"./AdminPanel-f80837ef.js";import{_ as L}from"./Back-8e73843f.js";import{al as M,A as N,a7 as P,aa as R,K as t,U as $,a0 as b,G as o,J as c,S as u,F as e,B as a,T as i,W as n,Q as G,R as K,a2 as O,C as p,aG as z,D as h,a1 as J}from"./iconify-4eda29ca.js";import{A as Q}from"./AppLayout-4e2e665e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./app-e58faad5.js";import"./permisos-8284c4c1.js";import"./Dropdown-f2c8405d.js";import"./Avatar-677e03a7.js";import"./Modal-d90e4256.js";import"./Image-e6d08a0a.js";import"./Spinner-244d9358.js";import"./index-b7a54f6a.js";const W={class:"container mx-auto flex justify-between items-center mb-20 text-white"},H={class:"card bg-base-100 shadow max-w-lg mx-auto p-7 relative animate-fade-in"},X=o("h1",null,"Comparte tus experiencias interdimensionales",-1),Y={key:0},Z={class:"alert alert-error"},ee={key:1,class:"space-y-7"},oe={class:"alert alert-success"},se=o("span",null,"Se han enviado los datos correctamente.",-1),te=["onSubmit"],re={class:"mb-4 bg-base-200 p-2 rounded"},ae=o("label",{class:"block font-bold mb-2",for:"categoria"},"Categoría de la experiencia:",-1),le={class:"flex flex-wrap gap-3"},ie=["value","onUpdate:modelValue","disabled"],ne=["title"],ce={key:0,class:"error"},de={class:"mb-4"},ue={class:"block font-bold mb-2",for:"nombre"},pe={key:0,class:"error"},me={class:"mb-4"},_e=o("label",{class:"block font-bold mb-2",for:"fecha"},"Fecha de la experiencia:",-1),fe={key:0,class:"error"},be={class:"mb-4"},he=o("label",{class:"block font-bold mb-2",for:"lugar"},"Lugar de la experiencia:",-1),xe={key:0,class:"error"},ve={class:"mb-4"},ge=o("label",{class:"block font-bold mb-2",for:"texto"},"Descripción de la experiencia:",-1),ye={key:0,class:"error"},ke={class:"mb-4"},we=o("label",{class:"block font-bold mb-2",for:"texto"},"Archivo adjunto (opcional):",-1),Ve={key:0,class:"error"},Ce=["disabled"],Re=Object.assign({layout:Q},{__name:"NuevaExperiencia",props:{categorias:Object},setup(S){var g,y,k,w;const m=M(),x=N(!1),_=N(!1),s=P("inscripcion",{nombre:(y=(g=m.props.auth)==null?void 0:g.user)==null?void 0:y.name,fecha:"",lugar:"",categoria:"",texto:"",archivo:null,user_id:(w=(k=m.props.auth)==null?void 0:k.user)==null?void 0:w.id});function v(){document.getElementById("myform").scrollIntoView(!0)}function U(){_.value=!1,s.clearErrors(),s.post("/experiencia/store",{preserveScroll:!0,onSuccess:()=>{x.value=!0,v()},onError:f=>{_.value=f[0],v()}})}return(f,l)=>{const T=L,A=I,V=R("Icon"),C=F,j=D;return t(),$(j,{class:"w-full relative py-12",id:"myform"},{default:b(()=>[o("div",W,[c(T,null,{default:b(()=>[u("Experiencias")]),_:1}),c(A,{modelo:"experiencia",necesita:"administrar experiencias"})]),o("div",H,[X,e(_)?(t(),a("div",Y,[o("div",Z,[c(V,{icon:"ph:warning-circle-duotone",class:"text-2xl"}),o("span",null,i(e(_)),1)])])):n("",!0),e(x)?(t(),a("div",ee,[o("div",oe,[c(V,{icon:"ph:check-circle-bold",class:"text-2xl"}),se]),o("div",null,[u("Puedes ver "),c(C,{href:f.route("experiencias"),class:"underline"},{default:b(()=>[u("otras experiencias")]),_:1},8,["href"])]),o("div",null,[u("Puedes escuchar "),c(C,{href:f.route("radio"),class:"underline"},{default:b(()=>[u("Radio Tseyor")]),_:1},8,["href"])])])):(t(),a("form",{key:2,onSubmit:J(U,["prevent"])},[o("div",re,[ae,o("div",le,[(t(!0),a(G,null,K(S.categorias,(r,d)=>{var E,B;return t(),a("label",{key:d,class:O(["inline-flex items-center",d.match(/grupal/i)&&!((E=e(m).props.auth)!=null&&E.user)?"opacity-50":""])},[p(o("input",{type:"radio",class:"form-radio",name:"categoria",value:d,"onUpdate:modelValue":q=>e(s).categoria=q,disabled:d.match(/grupal/i)&&!((B=e(m).props.auth)!=null&&B.user),required:""},null,8,ie),[[z,e(s).categoria]]),o("span",{class:"ml-2",title:r},i(d),9,ne)],2)}),128))]),e(s).errors.categoria?(t(),a("span",ce,i(e(s).errors.categoria),1)):n("",!0)]),o("div",de,[o("label",ue,i(e(s).categoria.match(/grupal/i)?"Nombre de la experiencia grupal":"Nombre simbólico"),1),p(o("input",{class:"form-input w-full",id:"nombre",type:"text","onUpdate:modelValue":l[0]||(l[0]=r=>e(s).nombre=r),required:""},null,512),[[h,e(s).nombre]]),e(s).errors.nombre?(t(),a("span",pe,i(e(s).errors.nombre),1)):n("",!0)]),o("div",me,[_e,p(o("input",{class:"form-input w-full",id:"fecha",type:"text","onUpdate:modelValue":l[1]||(l[1]=r=>e(s).fecha=r),placeholder:"hoy"},null,512),[[h,e(s).fecha]]),e(s).errors.fecha?(t(),a("span",fe,i(e(s).errors.fecha),1)):n("",!0)]),o("div",be,[he,p(o("input",{class:"form-input w-full",id:"lugar",type:"text","onUpdate:modelValue":l[2]||(l[2]=r=>e(s).lugar=r),required:""},null,512),[[h,e(s).lugar]]),e(s).errors.lugar?(t(),a("span",xe,i(e(s).errors.lugar),1)):n("",!0)]),o("div",ve,[ge,p(o("textarea",{class:"form-textarea w-full",id:"texto","onUpdate:modelValue":l[3]||(l[3]=r=>e(s).texto=r),required:""},null,512),[[h,e(s).texto]]),e(s).errors.texto?(t(),a("span",ye,i(e(s).errors.texto),1)):n("",!0)]),o("div",ke,[we,o("input",{type:"file",class:"form-input w-full",id:"texto",onChange:l[4]||(l[4]=r=>e(s).archivo=r.target.files[0])},null,32),e(s).errors.texto?(t(),a("span",Ve,i(e(s).errors.texto),1)):n("",!0)]),o("button",{type:"submit",class:"btn btn-primary",disabled:e(s).processing}," Enviar ",8,Ce)],40,te))])]),_:1})}}});export{Re as default};
