import{_ as I}from"./Pagination-dbd2dc8c.js";import{_ as L}from"./GridAppear-5ba2735c.js";import{_ as B}from"./TimeAgo-d7658970.js";import{_ as j}from"./SearchResultsHeader-99b39dbd.js";import{_ as H}from"./SearchInput-223bbcf6.js";import{_ as N}from"./AdminPanel-c9b93513.js";import{_ as z}from"./Link-906724b9.js";import{_ as C}from"./Back-f6a5b732.js";import{A as M}from"./AppLayout-78f8ede6.js";import{A as S,c as V,aa as E,K as o,B as i,G as a,U as m,a0 as l,S as u,T as n,J as r,W as f,Q as h,a2 as v,R as b,F as _}from"./iconify-4eda29ca.js";import"./Spinner-244d9358.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./permisos-625d1cf9.js";import"./app-6a98c07f.js";import"./Dropdown-f2c8405d.js";import"./Avatar-677e03a7.js";import"./Modal-d90e4256.js";import"./Image-e6d08a0a.js";import"./index-b7a54f6a.js";const F={class:"container py-12 mx-auto"},G={class:"flex justify-between items-center mb-20"},O={key:0},R=a("h1",null,"Informes",-1),D=a("p",null,"Informes de trabajo de los equipos Tseyor.",-1),J={class:"flex justify-end mb-5"},K={class:"w-full flex gap-7 lg:gap-10 flex-wrap md:flex-nowrap"},P={class:"gap-3 xl:gap-0 w-full md:w-[21ch] card bg-base-100 shadow flex-wrap flex-row xl:flex-col p-5 lg:p-10 xl:p-5 self-baseline md:sticky md:top-20"},Q=a("span",{class:"capitalize"},"Novedades",-1),U={class:"capitalize"},W={class:"w-full flex-grow card shadow bg-base-100 px-5 py-7"},X={class:"w-full"},Y=["innerHTML"],Z=["innerHTML"],ee={class:"flex gap-3 items-center mt-4 w-full"},te={key:0,class:"badge badge-primary text-xs"},be=Object.assign({layout:M},{__name:"Index",props:{categoriaActiva:{default:()=>""},filtrado:{default:()=>""},listado:{default:()=>{}},categorias:{default:()=>[]},equipo:{type:Object,required:!1}},setup(e){const g=e,d=S(g.listado);return V(()=>{var s=0;for(var p of g.categorias)s+=p.valor=="_"?0:p.total;return s}),(s,p)=>{const y=C,x=E("Icon"),c=z,k=N,q=H,w=j,A=B,$=L,T=I;return o(),i("div",F,[a("div",G,[e.equipo&&e.equipo.slug?(o(),m(y,{key:0,href:s.route("equipo",e.equipo.slug)},{default:l(()=>[u(n(e.equipo.nombre),1)]),_:1},8,["href"])):(o(),m(y,{key:1,href:s.route("equipos")},{default:l(()=>[u("Equipos")]),_:1},8,["href"])),e.equipo?(o(),m(c,{key:2,href:s.route("informes"),class:"flex h-fit gap-2 text-sm items-center hover:underline"},{default:l(()=>[u(" Todos los informes "),r(x,{icon:"ph:arrow-right"})]),_:1},8,["href"])):f("",!0),r(k,{modelo:"informe",necesita:"administrar contenidos"})]),e.equipo?(o(),i("h3",O,"Informes de "+n(e.equipo.nombre),1)):(o(),i(h,{key:1},[R,D],64)),a("div",J,[r(q)]),a("div",K,[a("div",P,[r(c,{href:`${s.route("informes")}`,class:v(["py-2 hover:text-primary transition-colors duration-250",!e.filtrado&&!e.categoriaActiva?"text-primary font-bold":""])},{default:l(()=>[Q]),_:1},8,["href","class"]),(o(!0),i(h,null,b(e.categorias,t=>(o(),i("div",{key:t.nombre,class:v(["flex",e.categoriaActiva==(t.valor||t.nombre)?"text-primary font-bold":""])},[r(c,{href:(e.equipo?s.route("equipo.informes",e.equipo.slug):s.route("informes"))+`?categoria=${t.valor||t.nombre}`+(e.filtrado?`&buscar=${e.filtrado}`:""),class:"py-2 hover:text-primary transition-colors duration-250"},{default:l(()=>[a("span",U,n(t.nombre),1),a("small",null," ("+n(t.total)+")",1)]),_:2},1032,["href"])],2))),128))]),a("div",W,[r(w,{results:_(d),category:e.categoriaActiva},null,8,["results","category"]),r($,{class:"gap-2 py-4","col-width":"24rem"},{default:l(()=>[(o(!0),i(h,null,b(_(d).data,t=>(o(),m(c,{key:t.id,href:s.route("informe",t.id),class:"group hover:text-primary transition-color duration-200 px-5 py-2 h-full flex flex-row items-baseline gap-3 hover:bg-base-200/40 rounded-xl w-full"},{default:l(()=>[r(x,{icon:"ph:dot-fill",class:"flex-shrink-0"}),a("div",X,[a("div",{innerHTML:t.titulo,class:"capitalize lowercase font-bold"},null,8,Y),e.filtrado?(o(),i("div",{key:0,innerHTML:t.descripcion,class:"mt-3"},null,8,Z)):f("",!0),a("div",ee,[!e.categoriaActiva||e.categoriaActiva=="_"?(o(),i("span",te,n(t.categoria),1)):f("",!0),e.equipo?f("",!0):(o(),m(c,{key:1,class:"badge text-xs",href:s.route("equipo",t.slug_equipo)},{default:l(()=>[u(n(t.nombre_equipo),1)]),_:2},1032,["href"])),r(A,{class:"text-xs ml-auto opacity-50 group-hover:opacity-100 transition-opacity duration-200",date:t.updated_at},null,8,["date"])])])]),_:2},1032,["href"]))),128))]),_:1}),r(T,{class:"mt-6",links:_(d).links},null,8,["links"])])])])}}});export{be as default};
