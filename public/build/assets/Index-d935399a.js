import{_ as z}from"./Pagination-c2280bdc.js";import{_ as V}from"./GridAppear-5ba2735c.js";import{A as I,_ as L}from"./AppLayout-4e2e665e.js";import{_ as R}from"./SearchResultsHeader-99b39dbd.js";import{_ as T}from"./Link-4da1af55.js";import{_ as F}from"./SearchInput-223bbcf6.js";import{_ as G}from"./AdminPanel-f80837ef.js";import{_ as D}from"./Back-8e73843f.js";import{u as E}from"./permisos-8284c4c1.js";import{A as x,K as o,B as r,G as s,J as a,a0 as c,S as _,a2 as h,Q as k,R as v,T as p,W as y,F as i,U as w,a9 as H}from"./iconify-4eda29ca.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-f2c8405d.js";import"./Avatar-677e03a7.js";import"./Modal-d90e4256.js";import"./Image-e6d08a0a.js";import"./app-e58faad5.js";import"./Spinner-244d9358.js";import"./index-b7a54f6a.js";const J={class:"container py-12 mx-auto"},K={class:"flex justify-between items-center mb-20"},O=s("h1",null,"Audios",-1),Q=s("p",null,"Relájate y disfruta de los talleres, meditaciones, cuentos y otros materiales de la filosofía de Tseyor.",-1),U={class:"flex justify-end mb-5"},W={class:"w-full flex gap-5 flex-wrap md:flex-nowrap"},q={class:"card bg-base-100 shadow self-baseline flex-wrap flex-row md:flex-col p-5 lg:p-10 gap-4 sticky top-20"},M=s("span",{class:"capitalize"},"Novedades",-1),X={class:"capitalize"},Y={key:0},Z={class:"w-full flex-grow"},tt=["onClick"],et={class:"flex flex-col gap-2 mr-auto w-full"},kt=Object.assign({layout:I},{__name:"Index",props:{categoriaActiva:{default:()=>""},filtrado:{default:()=>""},listado:{default:()=>{}},categorias:{default:()=>[]}},setup(n){const g=n,m=x(g.listado),$=x(g.categorias),l=E();function A(e){var d;const u=e.titulo;if(((d=l.music)==null?void 0:d.src)==e.src)switch(l.state){case"playing":case"paused":l.playPause();break;default:l.play(e.src,u,{artist:e.categoria})}else l.play(e.src,u)}return(e,u)=>{const d=D,B=G,S=F,f=T,C=R,N=L,P=V,j=z;return o(),r("div",J,[s("div",K,[a(d,{href:e.route("biblioteca")},{default:c(()=>[_("Biblioteca")]),_:1},8,["href"]),a(B,{modelo:"audio",necesita:"administrar contenidos",class:"mb-3"})]),O,Q,s("div",U,[a(S)]),s("div",W,[s("div",q,[a(f,{href:`${e.route("audios")}`,class:h(!n.filtrado&&!n.categoriaActiva?"text-primary font-bold":"")},{default:c(()=>[M]),_:1},8,["href","class"]),(o(!0),r(k,null,v(i($),t=>(o(),r("div",{key:t.nombre,class:h(["flex gap-2",n.categoriaActiva==t.nombre?"text-primary font-bold":""])},[a(f,{href:`${e.route("audios")}?categoria=${t.nombre}`},{default:c(()=>[s("span",X,p(t.nombre),1),t.total>0?(o(),r("small",Y,"("+p(t.total)+")",1)):y("",!0)]),_:2},1032,["href"])],2))),128))]),s("div",Z,[a(C,{results:i(m)},null,8,["results"]),i(m).data.length>0?(o(),w(P,{key:0,class:"gap-4 max-w-full",style:H({"grid-template-columns":"repeat(auto-fill, minmax(24rem, 1fr))"})},{default:c(()=>[(o(!0),r(k,null,v(i(m).data.map(t=>({...t,src:t.audio.match(/^http/)?t.audio:"/almacen/"+t.audio})),t=>{var b;return o(),r("div",{key:t.id,class:"card flex-row shadow bg-base-100 p-4 items-center gap-2 sm:gap-4 lg:gap-6",style:{"max-width":"calc(100vw - 30px)"}},[s("div",{class:h(["btn p-0 w-12 h-5 min-h-auto text-3xl",((b=i(l).music)==null?void 0:b.src)==t.src?"btn-secondary":"btn-primary"]),onClick:st=>A(t)},[a(N,{src:t.src},null,8,["src"])],10,tt),s("div",et,[a(f,{href:e.route("audio",t.slug),class:"text-base font-bold my-0 leading-5 hover:underline"},{default:c(()=>[_(p(t.titulo),1)]),_:2},1032,["href"]),n.categoriaActiva?y("",!0):(o(),w(f,{key:0,href:`${e.route("audios")}?categoria=${t.categoria}`,class:"text-xs"},{default:c(()=>[_(p(t.categoria),1)]),_:2},1032,["href"]))])])}),128))]),_:1},8,["style"])):y("",!0),a(j,{class:"mt-6",links:i(m).links},null,8,["links"])])])])}}});export{kt as default};
