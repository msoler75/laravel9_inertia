import{_ as G}from"./FormSection-76d2acf9.js";import{_ as L}from"./PrimaryButton-5ed47bb8.js";import{_ as R}from"./Spinner-244d9358.js";import{_ as D}from"./ActionMessage-036a5bc4.js";import{_ as O}from"./Link-4da1af55.js";import{a as z,_ as M}from"./TextInput-f9dcb244.js";import{_ as J}from"./SecondaryButton-4543e8b6.js";import{_ as K}from"./InputLabel-4f44e400.js";import{a7 as W,A as p,a4 as Y,K as d,U as k,a0 as s,S as n,B as C,G as r,J as t,C as y,$ as b,F as e,a9 as q,a1 as S,W as _,T as H,a8 as Q}from"./iconify-4eda29ca.js";import"./SectionTitle-9666e716.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./app-e58faad5.js";const X={key:0,class:"col-span-6 sm:col-span-4"},Z={class:"mt-2"},ee=["src","alt"],oe={class:"mt-2"},te={class:"col-span-6 sm:col-span-4"},ae={class:"col-span-6 sm:col-span-4"},se={key:0},ne={class:"text-sm mt-2 dark:text-white"},re={class:"mt-2 font-medium text-sm text-green-600 dark:text-green-400"},ke={__name:"UpdateProfileInformationForm",props:{user:Object},setup(c){const v=c,o=W({_method:"PUT",name:v.user.name,email:v.user.email,frase:v.user.frase,photo:null}),w=p(null),u=p(null),l=p(null),f=p(!0);Y(()=>o.name+o.email,()=>{f.value=!1});const $=()=>{l.value&&(o.photo=l.value.files[0]),o.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{P(),f.value=!0}})},B=()=>{w.value=!0},E=()=>{l.value.click()},T=()=>{const a=l.value.files[0];if(!a)return;const i=new FileReader;i.onload=m=>{u.value=m.target.result,f.value=!1},i.readAsDataURL(a)},U=()=>{Q.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{u.value=null,P()}})},P=()=>{var a;(a=l.value)!=null&&a.value&&(l.value.value=null)};return(a,i)=>{const m=K,x=J,h=z,I=M,V=O,N=D,F=R,j=L,A=G;return d(),k(A,{onSubmitted:$},{title:s(()=>[n(" Información de cuenta ")]),description:s(()=>[n(" Actualiza tu información de cuenta y tu correo electrónico. ")]),form:s(()=>[a.$page.props.jetstream.managesProfilePhotos?(d(),C("div",X,[r("input",{ref_key:"photoInput",ref:l,type:"file",class:"hidden",onChange:T},null,544),t(m,{for:"photo",value:"Imagen de perfil"}),y(r("div",Z,[r("img",{src:c.user.profile_photo_url,alt:c.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,ee)],512),[[b,!e(u)]]),y(r("div",oe,[r("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:q("background-image: url('"+e(u)+"');")},null,4)],512),[[b,e(u)]]),t(x,{class:"mt-2 mr-2",type:"button",onClick:S(E,["prevent"])},{default:s(()=>[n(" Elegir otra imagen ")]),_:1},8,["onClick"]),c.user.profile_photo_url?(d(),k(x,{key:0,type:"button",class:"mt-2",onClick:S(U,["prevent"])},{default:s(()=>[n(" Eliminar imagen ")]),_:1},8,["onClick"])):_("",!0),t(h,{message:e(o).errors.photo,class:"mt-2"},null,8,["message"])])):_("",!0),r("div",te,[t(m,{for:"name",value:"Nombre simbólico TSEYOR"}),t(I,{id:"name",modelValue:e(o).name,"onUpdate:modelValue":i[0]||(i[0]=g=>e(o).name=g),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),t(h,{message:e(o).errors.name,class:"mt-2"},null,8,["message"])]),r("div",ae,[t(m,{for:"email",value:"Correo electrónico"}),t(I,{id:"email",modelValue:e(o).email,"onUpdate:modelValue":i[1]||(i[1]=g=>e(o).email=g),type:"email",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),t(h,{message:e(o).errors.email,class:"mt-2"},null,8,["message"]),a.$page.props.jetstream.hasEmailVerification&&c.user.email_verified_at===null?(d(),C("div",se,[r("p",ne,[n(" Tu dirección de correo no ha sido verificada. "),t(V,{href:a.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",onClick:S(B,["prevent"])},{default:s(()=>[n(" Reenviar verificación para validar tu actual correo. ")]),_:1},8,["href","onClick"])]),y(r("div",re," Un enlace de verificación ha sido enviado a tu correo. ",512),[[b,e(w)]])])):_("",!0)])]),actions:s(()=>[t(V,{class:"btn mr-auto",href:a.route("usuario",c.user.id)},{default:s(()=>[n("→ Ir al Perfil")]),_:1},8,["href"]),t(N,{on:e(o).recentlySuccessful,class:"mr-3"},{default:s(()=>[n(" Guardado. ")]),_:1},8,["on"]),t(j,{disabled:e(o).processing||e(f)},{default:s(()=>[e(o).processing?(d(),k(F,{key:0})):_("",!0),n(" "+H(e(o).processing?"Guardando":"Guardar"),1)]),_:1},8,["disabled"])]),_:1})}}};export{ke as default};
