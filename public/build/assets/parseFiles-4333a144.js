import{_ as b}from"./AppLayout-78f8ede6.js";import{u as h}from"./permisos-625d1cf9.js";import{c as _,K as l,B as u,Q as d,R as k,a2 as E,F as f,J as v,T as x,W as A,S as g}from"./iconify-4eda29ca.js";import{g as S}from"./Image-e6d08a0a.js";const F={class:"flex flex-wrap gap-3"},O=["onClick","title"],B={key:0},w={__name:"Audios",props:{audios:{type:Object,required:!0},numerados:{type:Boolean,required:!1,default:!1},titulo:{type:String,required:!1,default:""}},setup(t){const a=t,s=h();function i(n){let c=a.titulo?a.titulo+(a.numerados?` (${n.index})`:""):n.label;if(c||(c=n.filename),s.music&&s.music.src==n.src)switch(s.state){case"playing":case"paused":s.playPause();break;default:s.play(n.src,c)}else s.play(n.src,c)}const r=_(()=>s.state=="playing"?"Escuchando":s.state=="paused"?"En pausa":s.state=="error"?"Error en el audio":"Escuchaste");return(n,c)=>{const p=b;return l(),u("div",F,[(l(!0),u(d,null,k(t.audios,e=>{var o,m,y;return l(),u("span",{key:e,class:E(["btn btn-xs flex-nowrap text-xs",((o=f(s).music)==null?void 0:o.src)==e.src?"btn-secondary":"btn-primary"]),onClick:C=>i(e),title:((m=f(s).music)==null?void 0:m.src)==e.src?f(r):"Escuchar"},[v(p,{src:e.src},null,8,["src"]),((y=f(s).music)==null?void 0:y.src)==e.src?(l(),u(d,{key:0},[t.numerados?(l(),u("span",B,x(f(r)),1)):A("",!0),g(" "+x(t.numerados?"Audio "+e.index:e.filename),1)],64)):(l(),u(d,{key:1},[g(x(t.numerados?"Escuchar Audio "+e.index:e.filename),1)],64))],10,O)}),128))])}}},V=t=>{var a=[];if(Array.isArray(t))a=t;else if(typeof t=="string")try{a=JSON.parse(t)}catch(c){console.log("parseFiles1",c),a=t.split(",").map(p=>p.trim())}else return t;try{const c=[];var s=1;for(var i of a){const p=i.lastIndexOf("/");var r=i.substring(p+1);const e=r.lastIndexOf(".");var n="";e>0&&(n=r.substring(e),r=r.substring(0,e));const o=r.lastIndexOf("_");o>0&&r.length-o==32+1&&(r=r.substring(0,o)),r+=n;const m=r,y=r;c.push({index:s,title:y,filename:r,label:m,src:S(i)}),s++}return c}catch(c){return console.error("parseFiles2",c),[]}};export{w as _,V as p};
